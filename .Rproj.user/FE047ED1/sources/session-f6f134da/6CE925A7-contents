---
title: "Taller 1 Analisis Estadistico de Datos"
author: "Zahira Itzel Gonzalez Cleves, Diego Alejandro Mejia Montañez, Daniel Felipe Russi Aragon, Ivan Camilo Granados Niño, Andres Alfonso Osorio Marulanda"
date: "2025-03-22"
output: html_document
---

<!-- Para dejar un salto de linea se deja un doble espacio al final  -->
**Maestría en Energías Renovables**  
**Escuela de Ingeniería, Ciencia y Tecnología**  
**Universidad del Rosario**  


<pre>
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
</pre>

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.





## Parte 1

### Pregunta 1
$w_1=7$  
Ivan

Importe la base de datos a R y determine el número de UE y de variables en la base de datos. ¿Cuántas filas y cuántas columnas tiene la tabla?, ¿Cuántos registros fueron medidos o recolectados a medio día (hora = 12:00)?

<!-- Codigo, para que se visualice en el html se usa la etiqueta <pre>...</pre>  -->
<pre>
```{r leer dataset, message=FALSE, warning=FALSE}
library(tidyverse)

# Cargar el dataset ori.csv
# ../  corresponde a la carpeta que contiene scripts/ (Nivel superior)”
# se uso read_csv2 porque el archivo lo leyo separado por ;
datos <- read_csv2("../datasets/ori.csv")
```
</pre>

<pre>
```{r vista-previa , message=FALSE, warning=FALSE}
summary(datos)
```
</pre>

### Pregunta 2
$w_2=7$  
Ivan

Para los registros recolectados a medio día ¿cuál es el pronóstico climático más frecuente? ¿cuál es el menos frecuente?


### Pregunta 3 
$w_3=7$  
Ivan

Clasifique las variables 1) Pronóstico, 2) Municipio, 3) Temperatura y 4) Velocidad del viento según su escala y clase, teniendo en cuenta que:

* Pronóstico Pronóstico del clima.
* Municipio Municipio de medición
* Temperatura Temperatura medida en grados centígrados.
* Velocidad del viento Velocidad del viento medida en mph.


### Pregunta 4 
$w_4=7$  
Zahira

Para los registros recolectados a medio día, describa de manera gráfica la temperatura y la velocidad del viento univariadamente a partir de un diagrama de caja. ¿Qué características observa los datos en términos de centro, localización y dispersión?.


<pre>
```{r preg_04a, message=FALSE, warning=FALSE}
tabla=read.csv2("/Users/aosoriom/Repos/MER_AEDatos/datasets/ori.csv") #Lee el archivo csv. Antes tuve que reemplazarle al archivo los ; por ,
MedioDia = tabla[tabla$Hora=="12:00",] #Crea tabla con la hora 12:00 solamente
MedioDia$Temperatura <- gsub(",", ".", MedioDia$Temperatura)
MedioDia$Temperatura <- as.numeric(MedioDia$Temperatura)
boxplot(MedioDia$Temperatura, horizontal = FALSE, main = 'Temperatura', ylab = '°C') #punto 4
#graf_42= boxplot(MedioDia$Velocidad_del_Viento ,horizontal = FALSE, main = 'Velocidad de viento', ylab = 'm/s') # 
```
</pre>

**Temperatura**  
Del diagrama `boxplot` para los datos de medio día se observa que la temperatura media es aproximadamente 30°C, y que el histograma de los datos estaría sesgado hacia la derecha, es decir, los datos están más concentrados en temperaturas entre 30°C y 33°C. En contraposición, las temperaturas por debajo de 30°C tienen más dispersión.
Del diagrama se puede concluir que las temperaturas más probables a medio día se encuentran aproximadamente entre 29°C y 31°C, que son los valores que delimitan la caja entre Q1 y Q3 del boxplot.
De otra parte, no se observan valores altos de temperatura atípicos, mientras que sí se observan varios valores atípicos por debajo de 27°C aproximadamente.

<pre>
```{r preg_04b, message=FALSE, warning=FALSE}
MedioDia$Velocidad_del_Viento  <- gsub(",", ".", MedioDia$Velocidad_del_Viento )
MedioDia$Velocidad_del_Viento  <- as.numeric(MedioDia$Velocidad_del_Viento )
boxplot(MedioDia$Velocidad_del_Viento ,horizontal = FALSE, main = 'Velocidad de viento', ylab = 'm/s') 
```
</pre>

**Velocidad del viento**  
A continuación se muestra el diagrama boxplot de la velocidad de viento. La primera característica que salta a la vista es que no se encuentran valores atípicos en el conjunto de datos. En segundo lugar, la velocidad media del viento está entre 1.5m/s y 2m/s, visualmente puede indicarse aproximadamente 1.7m/s. Las velocidades de viento más usuales están entre aproximadamente 1m/s y 2.2m/s, y ligeramente con mayor concentración entre la media 1.7m/s y 2.2m/s.


### Pregunta 5 
$w_5=7$  
Zahira

Para los registros recolectados a medio día, describa de manera numérica mediante la función `summary()` la temperatura y la velocidad del viento univariadamente. ¿Concuerda su descripción con los gráficos de boxplot previamente presentados?.

<pre>
```{r preg_05a, message=FALSE, warning=FALSE}
summary(MedioDia$Temperatura) # Punto 5
```
</pre>

Estos datos concuerdan con lo analizado a partir del boxplot. Sin embargo, en el boxplot se hace una aproximación de los valores de la temperatura, mientras que aquí la tabla presenta valores exactos. De esta manera, aunque el boxplot da más información sobre los datos, la función summary puede complementar dando la cifra exacta.
Se confirma la temperatura media a medio día observada en el boxplot. También se confirma el valor máximo de temperatura, de casi 33°C.
En cuanto al valor mínimo, los 22.4°C coinciden con lo que se presenta en el boxplot, sin embargo, observando el boxplot podemos identificar que ese mínimo es un outlier. 

<pre>
```{r preg_05b, message=FALSE, warning=FALSE}
summary(MedioDia$Velocidad_del_Viento) # Punto 5
```
</pre>

Así como para la temperatura, los datos aquí presentados son consistentes con lo analizado a partir del boxplot.
Se observa que el mínimo y máximo coincide con las líneas del boxplot (o “bigotes”) que delimitan el valor máximo y mínimo no atípicos. La media de la velocidad de viento se sitúa cercana a 1.7m/s, como se observó en el boxplot, y así mismo, los valores del primer y tercer cuartil corresponden con los identificados en el Punto 4. Se resalta, no obstante, que los valores identificados en el punto 4 no eran exactos, mientras que en este punto s{i se observa el valor exacto de los datos.


### Pregunta 6 
$w_6=10$  
Daniel

Para los registros recolectados a medio día, determine si existen o no observaciones atípicas univariadas para la variables Presión y Punto de Rocio usando el diagrama de caja de Tukey. ¿cuál variable presenta mayor número de atipicidades?




### Pregunta 7  
$w_7=10$  
Daniel

Para los registros recolectados a medio día, describa de manera gráfica la asociación entre la temperatura y velocidad del viento a partir de un diagrama de dispersión entre las variables. Añada el histograma marginal de cada variable. ¿Parecen correlacionarse las dos variables?



### Pregunta 8 
$w_8=10$  
Andres

Para los registros recolectados a medio día, describa de manera numérica la asociación entre temperatura y velocidad del viento a partir de la covarianza y el coeficiente de correlación de Pearson. ¿Parecen correlacionarse las dos variables? ¿en qué unidades se encuentran cada una de las dos medidas anteriormente mencionadas?

<pre>
```{r preg_08a, message=FALSE, warning=FALSE}
covar_Temp_VelViento <- cov(MedioDia$Temperatura, MedioDia$Velocidad_del_Viento, use = "complete.obs")
corrPearson_Temp_VelViento <- cor(MedioDia$Temperatura, MedioDia$Velocidad_del_Viento, use = "complete.obs", method = "pearson")
```
</pre>

La covarianza entre la temperatura (°C) y la velocidad del viento (m/s) a medio día es `r round(covar_Temp_VelViento, 3)` y tendria unidades de °C/(m/s) para mostrar como cambia la temperatura por cada variacion en la velocidad. El coeficiente de correlación de Pearson es `r round(corrPearson_Temp_VelViento, 3)` y este es adimensional. Ambos valores son muy cercanos a cero (0), lo que indica que la asociación (relacion lineal) entre ambas variables es muy debil casi nula; en otras palabras no se correlacionan. Es preciso mencionar que el coeficiente de Pearson al ser adimensional y estar en el rango de -1 a 1 facilita y agiliza la interpretacion de la correlacion entre las dos variables. 

En la siguiente grafica se puede visualizar como para un mismo valor de temperatura pueden exisitir multiples velocidades de viento; tanto altos como bajos, y viceversa. En ambos casos, para un mismo valor de una de las variables se evidencian agrupaciones de la otra variable tanto altas como bajas. En otras palabras, para dias con la misma temperatura a medio dia puede haber viento (Velocidades cercanas a los 3.5m/s) o no (Velocidades cercanas a los 0.5m/s), es decir, cuando cambia una variable no necesariamente la otra cambia principalmente  ambas estan influenciadas por otras variables climaticas y geograficas del punto de medida. 

```{r grafico-correlacionA, echo=FALSE, message=FALSE, warning=FALSE}
#plot(MedioDia$Temperatura, MedioDia$Velocidad_del_Viento,
#     main = "Relación entre Temperatura y Velocidad del Viento",
#     xlab = "Temperatura (°C)",
#     ylab = "Velocidad del Viento (m/s)",
#     col = "blue",
#     pch = 16)
```


```{r grafico-correlacionB, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)

ggplot(MedioDia, aes(x = Temperatura, y = Velocidad_del_Viento)) +
  geom_point(color = "steelblue", alpha = 0.6) +
  labs(x = "Temperatura (°C)",
       y = "Velocidad del Viento (m/s)") +
  theme_minimal()
```

En esta imagen tambien se puede mejorar el entendimeinto del `boxplot` del punto 4, al verse como la mayoria de los datos de velocidad se encuentran por debajo de 2.175m/s.

### Pregunta 9 
$w_9=5$  
Zahira

Para los registros recolectados a medio día, responda. Son estos datos ¿univariados, bivariados o multivariados?



## Parte 2

### Pregunta 10 
$w_{10}=10$  
Andres

Para los registros recolectados a medio día, elabore la estimación histograma de la densidad y la estimación kernel de la densidad para la variable Temperatura. ¿Podría afirmar que los datos provienen de una distribución normal?


```{r histograma-densidad, message=FALSE, warning=FALSE}
library(ggplot2)

ggplot(MedioDia, aes(x = Temperatura)) +
  geom_histogram(aes(y = ..density..),
                 bins = 30, fill = "lightblue", color = "white", alpha = 0.7) +
  geom_density(color = "red", size = 1) +
  labs(x = "Temperatura (°C)",
       y = "Densidad") +
  theme_minimal()
```

Con base en la anteror grafica se evidencia que la variable muestra tres grupos con desidades significativas, hasta se podria indicar que tiene 3 con modas; y aunque hay una moda principal, las otras dos tambien son representativas. Se puede indicar, con base en lo anterior, que la variable temperatura es multimodal y no proviene de una distribucion normal (unimodal).  
  
Esto se debe a que en la muestra se tienen diferentes puntos de medida ubiados en zonas dierentes y que en cada una de estas hay dias calurosos, dias frescos y dias frios, asi mismo que estas condiciones se pueden presentar en una misma hora del dia. 

El grafico tambien muestra una estimación kernel de la densidad; tambien llamado curva suavizada. Esta curva muestra la diferencia respecto de una distribucion normal. 


### Pregunta 11 
$w_{11}=10$  
Diego

Para los registros recolectados a medio día, elabore la estimación histograma de la densidad y la estimación kernel de la densidad para la variable Presión ¿Es la distribución estimada simétrica? explique.


### Pregunta 12 
$w_{12}=10$  
Diego

Para los registros recolectados a medio día, elabore la estimación kernel de la densidad para la variable Velocidad del viento. Sobreponga en su gráfico la función de densidad normal con la media y desviación estándar observada en sus datos. ¿Se aproxima el modelo normal estimado a la estimación de la densidad encontrada?


## Referencias

1. MarkDown Guide - [Basic Syntax](https://www.markdownguide.org/basic-syntax/)  
2. [Data Visualization CheatSheet](https://github.com/rstudio/cheatsheets/blob/main/data-visualization.pdf)